## 第二章 变量和基本类型

数据类型是程序的基础：告知数据的意义以及能在数据上执行的操作。

C++支持广泛的数据类型，定义了基本内置类型和为用户提供了自定义数据类型的机制。

***数据类型决定了程序中数据和操作的意义***。 

### 1. 基本内置类型

#### 1.1 算术类型

| 类型 |  | 最小尺寸 | 字面值 |
| :--- | :--- | ---- | ---- |
| bool | 布尔类型 | 未定义 | 真（true）或假（false） |
| char | 字符 | 8位 |  |
| w_char_t | 宽字符 | 16位 |  |
| char16_t | Unicode字符 | 16位 |  |
| char32_t | Unicode字符 | 32位 |  |
| short | 短整型 | 16位 |  |
| int | 整型 | 16位 |  |
| long | 长整型 | 32位 |  |
| long long | 长整型 | 64位 |  |
| float | 单精度浮点数 | 6位有效数字 |  |
| double | 双精度浮点数 | 10位有效数字 |  |
| long double | 扩展精度浮点数 | 10位有效数字 |  |

计算机中以比特序列存储数据，每个比特非0即1。

浮点型可表示**单精度、双精度和扩展精度值**。

#### 1.2 有符号类型和无符号类型

除布尔型和扩展的字符型外，其他整型可划分为 **有符号整型（signed）**和 **无符号整型（unsigned）**两种。

- **有符号类型**：可表示*正数值、负数值或0*。
- **无符号类型**：表示*大于等于0*的值。

**注意**：C++标准未规定有符号类型如何表示，但约定了在表示范围内正值和负值的量应该平衡。

#### 1.3 类型转换

**定义**：将对象从一种给定的类型转换为另一种数据类型。

注意：***~~切勿混用有符号类型和无符号类型~~***。各个类型都有一个自身可表示的范围，超出时会导致程序崩溃（一般是内存溢出）。

***转义序列（escape sequence）***：以*反斜线作为开始*。

常见例子：换行符（`\n`）、横向制表符（`\t`）、报警（响铃）符（`\a`）、纵向制表符（`\v`）、退格符（`\b`）、双引号（`\"`）、反斜线（`\\`)、问号（`\?`）、单引号（`\'`）、回车符（`\r`）。

### 2. 变量

每个变量都有其数据类型，数据类型决定着变量所占内存空间的大小和布局方式以及存储的值的范围。

变量：具名、提供程序操作的存储空间。

#### 2.1 变量的定义

##### 2.1.1 基本形式

类型说明符（type specifier），其后紧跟由一个或多个变量名组成的列表。其中变量名以逗号分隔，最后以分号结束。

～～～～延伸～～～～ **对象**：是指一块能存储数据并具有某种类型的内存空间。

##### 2.1.2 初始值

在C++中，初始化和赋值属于两种不同的操作和概念。一般情况，二者的区别几乎可以忽略不计。

- **初始化**：创建变量时赋予其一个初始值。
- **赋值**：把对象的当前值擦除，而用一个新值来替代。

##### 2.1.2 列表初始化

由一组花括号括起来的初始值，称为列表初始化（list initialization）。

##### 2.1.3 默认初始化

如果定义变量时没有指定初始值，则变量被**默认初始化（default initialized）**。具体的默认值是由 **变量类型** 决定，同时定义变量的位置也会受到影响。

👉**Notes**：*定义于函数体内的内置类型的对象如果没有初始化，则其值未定义。类的对象如果没有显式地初始化，则其值由类确定。*

#### 2.2 变量声明和定义的关系

C++支持分离式编译（separate compilation）机制，该机制允许将程序分割为若干个文件，每个文件可被独立编译。

为了支持该机制，C++***明确区分声明和定义***。

**声明**：规定了名字和类型。

**定义**：申请存储空间，也可能为变量赋一个初始值。

如果想声明一个变量而非定义它，就在变量名前添加 `关键字extern `，而且不要显式地初始化变量。

```C++
extern int i; // 声明i而非定义i
int j; // 声明并定义j
```

> extern 语句如果包含初始值则不再是声明，而变成定义。
>
> ```C++
> extern double pi = 3.14159; //定义
> ```

**任何包含了显式初始化的声明即成为定义**。

👉**Notes**：变量能且只能被定义一次，但可以被多次声明。

C++是**静态类型**语言，含义是在编译阶段检查类型。检查类型的过程称为**类型检查（Type checking）**。

#### 2.4 标识符

C++的 **标识符（identifier）** 由 ***字母、数字和下划线*** 组成，其中 **必须以字母或下划线开头**。

👉**Notes**：长度无限制，对大小写字母敏感。

**注意**：

- ~~用户自定义的标识符中不能连续出现两个下划线~~
- ~~不能以下划线紧连大写字母开头~~。
- ~~定义在函数体外的标识符不能以下划线开头~~。

##### 变量命名规范

**规范的作用**：有效提高程序的可读性。

- 标识符能体现实际含义。
- *变量名一般用小写字母*。
- 用户自定义的*类名一般以大写字母开头*。
- 若标识符是多个单词组成，则单词间应有明显区分。如student_load或studentLoan，简称 **驼峰命名法** 。

**注意**：~~关键字（保留字）不能用作标识符~~。



### 3. 复合类型



### 4. const限定符



### 5. 处理类型





### 6. 自定义数据结构



